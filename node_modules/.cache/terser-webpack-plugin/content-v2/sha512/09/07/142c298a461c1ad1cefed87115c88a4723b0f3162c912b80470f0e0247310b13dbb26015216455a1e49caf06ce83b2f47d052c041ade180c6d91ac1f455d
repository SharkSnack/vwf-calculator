{"code":"(this[\"webpackJsonpvwf-calculator\"]=this[\"webpackJsonpvwf-calculator\"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{\"a\":8,\"b\":9,\"c\":8,\"d\":9,\"e\":9,\"f\":9,\"g\":8,\"h\":8,\"i\":4,\"j\":6,\"k\":8,\"l\":3,\"m\":10,\"n\":8,\"o\":9,\"p\":9,\"q\":8,\"r\":7,\"s\":8,\"t\":8,\"u\":8,\"v\":9,\"w\":11,\"x\":10,\"y\":10,\"z\":10,\"A\":10,\"B\":9,\"C\":9,\"D\":9,\"E\":9,\"F\":8,\"G\":10,\"H\":9,\"I\":3,\"J\":7,\"K\":10,\"L\":9,\"M\":10,\"N\":10,\"O\":10,\"P\":9,\"Q\":10,\"R\":9,\"S\":10,\"T\":10,\"U\":9,\"V\":10,\"W\":11,\"X\":10,\"Y\":11,\"Z\":10,\" \":4,\":\":5,\"!\":4,\"?\":9,\"\\\\\"\":7,\"-\":9,\"~\":11,\"\\'\":4,\",\":6,\".\":4,\"_tab1\":2,\"_tab2\":19,\"_window\":314}')},11:function(e,t,n){\"use strict\";n.r(t);var r=n(2),a=n(4),s=n(5),i=n(7),c=n(6),o=n(1),l=n.n(o),h=n(8),u=n.n(h),j=(n(16),n(9)),b=n(10),d=n(0),f=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:\"renderPreview\",value:function(){var e=[];if(\"shiren4\"===this.props.game){var t,n=Object(r.a)(this.props.text);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(\"\\n\"===a){e.push(\"<br/>\");for(var s=0;s<4;s++)e.push('<img class=\"glyph\" src=\"./font/shiren4/32.png\" />')}else e.push('<img class=\"glyph\" src=\"./font/shiren4/'.concat(a.charCodeAt(0),'.png\" />'))}}catch(i){n.e(i)}finally{n.f()}}return e.join(\"\\n\")}},{key:\"render\",value:function(){return\"shiren4\"===this.props.game?Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"p\",{children:\"Preview:\"}),Object(d.jsx)(\"div\",{className:\"shiren4Preview\",dangerouslySetInnerHTML:{__html:this.renderPreview()}})]}):null}}]),n}(l.a.Component),p=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={game:\"\",textArea:\"\",charCount:0,lookupObj:{},widths:[]},r}return Object(s.a)(n,[{key:\"handlePresetClick\",value:function(e){var t={};switch(e){case\"shiren2\":t=j;break;case\"shiren4\":t=b}this.setState({game:e,lookupObj:t})}},{key:\"handleFileUpload\",value:function(e){var t=this,n=new FileReader;n.readAsText(e.target.files[0],\"UTF-8\"),n.onload=function(e){try{t.setState({lookupObj:JSON.parse(e.target.result)})}catch(e){alert(\"Error parsing widths file.\\n\\nIs it in JSON format?\")}},this.setState({game:\"\"})}},{key:\"handleTextAreaChange\",value:function(e){function t(e,t,n){var a=0;if(\"shiren2\"===e){a=4;var s,i=Object(r.a)(n);try{for(i.s();!(s=i.n()).done;){a+=t[s.value]+2}}catch(l){i.e(l)}finally{i.f()}a>4?a-=2:a=0}else{var c,o=Object(r.a)(n);try{for(o.s();!(c=o.n()).done;){a+=t[c.value]}}catch(l){o.e(l)}finally{o.f()}}return a}var n,a=e.target.value.split(\"\\n\"),s=[],i=Object(r.a)(a);try{for(i.s();!(n=i.n()).done;){var c=n.value;s.push(t(this.state.game,this.state.lookupObj,c))}}catch(o){i.e(o)}finally{i.f()}!function(e,t,n){if(\"shiren2\"===t)for(var r=0;r<e.length;r++)e[r]>n._window&&(e[r]=\"[Too long!]\")}(s,this.state.game,this.state.lookupObj),this.setState({textArea:e.target.value,charCount:e.target.value.length,widths:s})}},{key:\"render\",value:function(){var e=this,t=this.state.game,n=this.state.textArea,r=this.state.charCount,a=this.state.widths.join(\"\\n\");return Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"h4\",{children:\"- Variable Width Font Calculator (v1.0) -\"}),Object(d.jsx)(\"span\",{children:\"Preset: \"}),Object(d.jsx)(\"button\",{onClick:function(){return e.handlePresetClick(\"shiren2\")},children:\"Shiren 2\"}),Object(d.jsx)(\"button\",{onClick:function(){return e.handlePresetClick(\"shiren4\")},children:\"Shiren 4\"}),Object(d.jsx)(\"br\",{}),Object(d.jsx)(\"span\",{children:\"Custom: \"}),Object(d.jsx)(\"input\",{type:\"file\",onChange:function(t){return e.handleFileUpload(t)}}),Object(d.jsx)(\"br\",{}),Object(d.jsx)(\"br\",{}),Object(d.jsx)(\"textarea\",{cols:\"56\",rows:\"10\",onChange:function(t){return e.handleTextAreaChange(t)}}),Object(d.jsx)(\"br\",{}),Object(d.jsx)(f,{text:n,game:t}),Object(d.jsxs)(\"p\",{children:[\"Result (\",Object(d.jsx)(\"span\",{children:r}),\" chars):\"]}),Object(d.jsx)(\"pre\",{className:\"widthResult\",children:a})]})}}]),n}(l.a.Component);u.a.render(Object(d.jsx)(p,{}),document.getElementById(\"root\"))},16:function(e,t,n){},9:function(e){e.exports=JSON.parse('{\"0\":7,\"1\":7,\"2\":7,\"3\":7,\"4\":7,\"5\":7,\"6\":7,\"7\":7,\"8\":7,\"9\":7,\" \":3,\"!\":3,\"\\\\\"\":300,\"#\":12,\"$\":300,\"%\":11,\"&\":7,\"\\'\":2,\"(\":6,\")\":6,\"*\":7,\"+\":7,\",\":2,\"-\":7,\".\":2,\"/\":300,\":\":4,\";\":300,\"<\":300,\">\":300,\"?\":7,\"@\":12,\"A\":9,\"B\":7,\"C\":8,\"D\":8,\"E\":7,\"F\":7,\"G\":9,\"H\":7,\"I\":3,\"J\":5,\"K\":8,\"L\":7,\"M\":9,\"N\":7,\"O\":9,\"P\":7,\"Q\":9,\"R\":8,\"S\":7,\"T\":7,\"U\":7,\"V\":9,\"W\":11,\"X\":8,\"Y\":9,\"Z\":8,\"[\":4,\"\\\\\\\\\":300,\"]\":4,\"^\":300,\"_\":300,\"`\":300,\"a\":6,\"b\":6,\"c\":5,\"d\":6,\"e\":6,\"f\":4,\"g\":6,\"h\":6,\"i\":1,\"j\":3,\"k\":6,\"l\":1,\"m\":9,\"n\":6,\"o\":6,\"p\":6,\"q\":6,\"r\":4,\"s\":5,\"t\":4,\"u\":6,\"v\":7,\"w\":9,\"x\":6,\"y\":7,\"z\":6,\"{\":300,\"|\":300,\"}\":300,\"~\":11,\"\\u201c\":5,\"\\u201d\":5,\"\\u2018\":2,\"\\u2019\":2,\"=\":8,\"\\u2764\\ufe0e\":11,\"\\u266a\":8,\"\\u2190\":8,\"\\u2192\":8,\"\\u2191\":7,\"\\u2193\":7,\"_tab1\":4,\"_window\":264,\"_window_dialogue\":249}')}},[[11,1,2]]]);","name":"static/js/main.1763fd4d.chunk.js","map":{"version":3,"sources":["static/js/main.1763fd4d.chunk.js"],"names":["this","push","10","module","exports","JSON","parse","11","__webpack_exports__","__webpack_require__","r","_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__","_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__","_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_5___default","n","react_dom__WEBPACK_IMPORTED_MODULE_6__","react_dom__WEBPACK_IMPORTED_MODULE_6___default","_json_shiren2_json__WEBPACK_IMPORTED_MODULE_8__","_json_shiren4_json__WEBPACK_IMPORTED_MODULE_9__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__","Preview","_React$Component","Object","_super","apply","arguments","key","value","html","props","game","_step","_iterator","text","s","done","char","i","concat","charCodeAt","err","e","f","join","children","className","dangerouslySetInnerHTML","__html","renderPreview","a","Component","VWFCalc","_React$Component2","_super2","_this","call","state","textArea","charCount","lookupObj","widths","setState","event","_this2","reader","FileReader","readAsText","target","files","onload","result","alert","calcLineWidth","line","width","_step2","_iterator2","_step3","_iterator3","_step4","lines","split","_iterator4","length","checkWidthLimit","_this3","onClick","handlePresetClick","type","onChange","handleFileUpload","cols","rows","handleTextAreaChange","render","document","getElementById","16","9"],"mappings":"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"},"input":"(this[\"webpackJsonpvwf-calculator\"] = this[\"webpackJsonpvwf-calculator\"] || []).push([[0],{\n\n/***/ 10:\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"a\\\":8,\\\"b\\\":9,\\\"c\\\":8,\\\"d\\\":9,\\\"e\\\":9,\\\"f\\\":9,\\\"g\\\":8,\\\"h\\\":8,\\\"i\\\":4,\\\"j\\\":6,\\\"k\\\":8,\\\"l\\\":3,\\\"m\\\":10,\\\"n\\\":8,\\\"o\\\":9,\\\"p\\\":9,\\\"q\\\":8,\\\"r\\\":7,\\\"s\\\":8,\\\"t\\\":8,\\\"u\\\":8,\\\"v\\\":9,\\\"w\\\":11,\\\"x\\\":10,\\\"y\\\":10,\\\"z\\\":10,\\\"A\\\":10,\\\"B\\\":9,\\\"C\\\":9,\\\"D\\\":9,\\\"E\\\":9,\\\"F\\\":8,\\\"G\\\":10,\\\"H\\\":9,\\\"I\\\":3,\\\"J\\\":7,\\\"K\\\":10,\\\"L\\\":9,\\\"M\\\":10,\\\"N\\\":10,\\\"O\\\":10,\\\"P\\\":9,\\\"Q\\\":10,\\\"R\\\":9,\\\"S\\\":10,\\\"T\\\":10,\\\"U\\\":9,\\\"V\\\":10,\\\"W\\\":11,\\\"X\\\":10,\\\"Y\\\":11,\\\"Z\\\":10,\\\" \\\":4,\\\":\\\":5,\\\"!\\\":4,\\\"?\\\":9,\\\"\\\\\\\"\\\":7,\\\"-\\\":9,\\\"~\\\":11,\\\"'\\\":4,\\\",\\\":6,\\\".\\\":4,\\\"_tab1\\\":2,\\\"_tab2\\\":19,\\\"_window\\\":314}\");\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n/* harmony import */ var _Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5);\n/* harmony import */ var _Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);\n/* harmony import */ var _Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(8);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(16);\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _json_shiren2_json__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9);\nvar _json_shiren2_json__WEBPACK_IMPORTED_MODULE_8___namespace = /*#__PURE__*/__webpack_require__.t(9, 1);\n/* harmony import */ var _json_shiren4_json__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(10);\nvar _json_shiren4_json__WEBPACK_IMPORTED_MODULE_9___namespace = /*#__PURE__*/__webpack_require__.t(10, 1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);\nvar Preview=/*#__PURE__*/function(_React$Component){Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(Preview,_React$Component);var _super=Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(Preview);function Preview(){Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this,Preview);return _super.apply(this,arguments);}Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Preview,[{key:\"renderPreview\",value:function renderPreview(){var html=[];// Shiren 4+ (PSP)\nif(this.props.game==='shiren4'){var _iterator=Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(this.props.text),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var char=_step.value;if(char==='\\n'){html.push(\"<br/>\");// Lines after the first have 4 spaces of indentation\nfor(var i=0;i<4;i++){html.push(\"<img class=\\\"glyph\\\" src=\\\"./font/shiren4/32.png\\\" />\");}}else{html.push(\"<img class=\\\"glyph\\\" src=\\\"./font/shiren4/\".concat(char.charCodeAt(0),\".png\\\" />\"));}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return html.join('\\n');}},{key:\"render\",value:function render(){if(this.props.game==='shiren4'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{children:\"Preview:\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"shiren4Preview\",dangerouslySetInnerHTML:{__html:this.renderPreview()}})]});}else{return null;}}}]);return Preview;}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);var VWFCalc=/*#__PURE__*/function(_React$Component2){Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(VWFCalc,_React$Component2);var _super2=Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(VWFCalc);function VWFCalc(props){var _this;Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this,VWFCalc);_this=_super2.call(this,props);_this.state={game:\"\",textArea:\"\",charCount:0,lookupObj:{},widths:[]};return _this;}Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(VWFCalc,[{key:\"handlePresetClick\",value:function handlePresetClick(game){var lookupObj={};switch(game){case'shiren2':lookupObj=_json_shiren2_json__WEBPACK_IMPORTED_MODULE_8__;break;case'shiren4':lookupObj=_json_shiren4_json__WEBPACK_IMPORTED_MODULE_9__;break;default:// empty object\n}this.setState({game:game,lookupObj:lookupObj});}},{key:\"handleFileUpload\",value:function handleFileUpload(event){var _this2=this;var reader=new FileReader();reader.readAsText(event.target.files[0],\"UTF-8\");reader.onload=function(e){try{_this2.setState({lookupObj:JSON.parse(e.target.result)});}catch(e){alert(\"Error parsing widths file.\\n\\nIs it in JSON format?\");}};this.setState({game:\"\"});}},{key:\"handleTextAreaChange\",value:function handleTextAreaChange(event){function calcLineWidth(game,lookupObj,line){var width=0;if(game==='shiren2'){width=4;// starts with 4 pixels padding\nvar _iterator2=Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(line),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var char=_step2.value;width+=lookupObj[char]+2;// 2 pixels between each character\n}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(width>4){width-=2;// last character doesn't have 2 pixels padding\n}else{width=0;// set width to 0 if there are no characters\n}}else{var _iterator3=Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(line),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _char=_step3.value;width+=lookupObj[_char];}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}return width;}function checkWidthLimit(widths,game,lookupObj){if(game==='shiren2'){for(var i=0;i<widths.length;i++){if(widths[i]>lookupObj[\"_window\"]){widths[i]=\"[Too long!]\";}}}}// recalculate widths\nvar lines=event.target.value.split('\\n');var widths=[];var _iterator4=Object(_Users_tay_Sites_vwf_calculator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(lines),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var line=_step4.value;widths.push(calcLineWidth(this.state.game,this.state.lookupObj,line));}// Warn for lines that are too long\n}catch(err){_iterator4.e(err);}finally{_iterator4.f();}checkWidthLimit(widths,this.state.game,this.state.lookupObj);this.setState({textArea:event.target.value,charCount:event.target.value.length,widths:widths});}},{key:\"render\",value:function render(){var _this3=this;var game=this.state.game;var text=this.state.textArea;var charCount=this.state.charCount;var widths=this.state.widths.join('\\n');return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"h4\",{children:\"- Variable Width Font Calculator (v1.0) -\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"span\",{children:\"Preset: \"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"button\",{onClick:function onClick(){return _this3.handlePresetClick(\"shiren2\");},children:\"Shiren 2\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"button\",{onClick:function onClick(){return _this3.handlePresetClick(\"shiren4\");},children:\"Shiren 4\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"span\",{children:\"Custom: \"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"input\",{type:\"file\",onChange:function onChange(e){return _this3.handleFileUpload(e);}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"textarea\",{cols:\"56\",rows:\"10\",onChange:function onChange(e){return _this3.handleTextAreaChange(e);}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(Preview,{text:text,game:game}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"p\",{children:[\"Result (\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"span\",{children:charCount}),\" chars):\"]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"pre\",{className:\"widthResult\",children:widths})]});}}]);return VWFCalc;}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.render(/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(VWFCalc,{}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"0\\\":7,\\\"1\\\":7,\\\"2\\\":7,\\\"3\\\":7,\\\"4\\\":7,\\\"5\\\":7,\\\"6\\\":7,\\\"7\\\":7,\\\"8\\\":7,\\\"9\\\":7,\\\" \\\":3,\\\"!\\\":3,\\\"\\\\\\\"\\\":300,\\\"#\\\":12,\\\"$\\\":300,\\\"%\\\":11,\\\"&\\\":7,\\\"'\\\":2,\\\"(\\\":6,\\\")\\\":6,\\\"*\\\":7,\\\"+\\\":7,\\\",\\\":2,\\\"-\\\":7,\\\".\\\":2,\\\"/\\\":300,\\\":\\\":4,\\\";\\\":300,\\\"<\\\":300,\\\">\\\":300,\\\"?\\\":7,\\\"@\\\":12,\\\"A\\\":9,\\\"B\\\":7,\\\"C\\\":8,\\\"D\\\":8,\\\"E\\\":7,\\\"F\\\":7,\\\"G\\\":9,\\\"H\\\":7,\\\"I\\\":3,\\\"J\\\":5,\\\"K\\\":8,\\\"L\\\":7,\\\"M\\\":9,\\\"N\\\":7,\\\"O\\\":9,\\\"P\\\":7,\\\"Q\\\":9,\\\"R\\\":8,\\\"S\\\":7,\\\"T\\\":7,\\\"U\\\":7,\\\"V\\\":9,\\\"W\\\":11,\\\"X\\\":8,\\\"Y\\\":9,\\\"Z\\\":8,\\\"[\\\":4,\\\"\\\\\\\\\\\":300,\\\"]\\\":4,\\\"^\\\":300,\\\"_\\\":300,\\\"`\\\":300,\\\"a\\\":6,\\\"b\\\":6,\\\"c\\\":5,\\\"d\\\":6,\\\"e\\\":6,\\\"f\\\":4,\\\"g\\\":6,\\\"h\\\":6,\\\"i\\\":1,\\\"j\\\":3,\\\"k\\\":6,\\\"l\\\":1,\\\"m\\\":9,\\\"n\\\":6,\\\"o\\\":6,\\\"p\\\":6,\\\"q\\\":6,\\\"r\\\":4,\\\"s\\\":5,\\\"t\\\":4,\\\"u\\\":6,\\\"v\\\":7,\\\"w\\\":9,\\\"x\\\":6,\\\"y\\\":7,\\\"z\\\":6,\\\"{\\\":300,\\\"|\\\":300,\\\"}\\\":300,\\\"~\\\":11,\\\"“\\\":5,\\\"”\\\":5,\\\"‘\\\":2,\\\"’\\\":2,\\\"=\\\":8,\\\"❤︎\\\":11,\\\"♪\\\":8,\\\"←\\\":8,\\\"→\\\":8,\\\"↑\\\":7,\\\"↓\\\":7,\\\"_tab1\\\":4,\\\"_window\\\":264,\\\"_window_dialogue\\\":249}\");\n\n/***/ })\n\n},[[11,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/tay/Sites/vwf-calculator/src/index.js","/Users/tay/Sites/vwf-calculator/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tay/Sites/vwf-calculator/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tay/Sites/vwf-calculator/node_modules/postcss-loader/src/index.js??postcss!/Users/tay/Sites/vwf-calculator/src/index.css"],"names":["Preview","html","props","game","text","char","push","i","charCodeAt","join","__html","renderPreview","React","Component","VWFCalc","state","textArea","charCount","lookupObj","widths","shiren2Widths","shiren4Widths","setState","event","reader","FileReader","readAsText","target","files","onload","e","JSON","parse","result","alert","calcLineWidth","line","width","checkWidthLimit","length","lines","value","split","handlePresetClick","handleFileUpload","handleTextAreaChange","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport shiren2Widths from './json/shiren2.json';\nimport shiren4Widths from './json/shiren4.json';\n\nclass Preview extends React.Component {\n  renderPreview() {\n    let html = [];\n\n    // Shiren 4+ (PSP)\n    if (this.props.game === 'shiren4') {\n      for (const char of this.props.text) {\n        if (char === '\\n') {\n          html.push(`<br/>`);\n          // Lines after the first have 4 spaces of indentation\n          for (let i = 0; i < 4; i++) {\n            html.push(`<img class=\"glyph\" src=\"./font/shiren4/32.png\" />`);\n          }\n        } else {\n          html.push(`<img class=\"glyph\" src=\"./font/shiren4/${char.charCodeAt(0)}.png\" />`);\n        }\n      }\n    }\n\n    return html.join('\\n');\n  }\n\n  render() {\n    if (this.props.game === 'shiren4') {\n      return(\n        <div>\n          <p>Preview:</p>\n          <div className=\"shiren4Preview\" dangerouslySetInnerHTML={{__html: this.renderPreview()}}></div>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nclass VWFCalc extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      game: \"\",\n      textArea: \"\",\n      charCount: 0,\n      lookupObj: {},\n      widths: []\n    }\n  }\n\n  handlePresetClick(game) {\n    let lookupObj = {};\n    switch(game) {\n      case 'shiren2':\n        lookupObj = shiren2Widths;\n        break;\n      case 'shiren4':\n        lookupObj = shiren4Widths;\n        break;\n      default:\n        // empty object\n    }\n    this.setState({\n      game: game,\n      lookupObj: lookupObj\n    });\n  }\n\n  handleFileUpload(event) {\n    const reader = new FileReader();\n    reader.readAsText(event.target.files[0], \"UTF-8\");\n    reader.onload = e => {\n      try {\n        this.setState({\n          lookupObj: JSON.parse(e.target.result)\n        });\n      } catch(e) {\n        alert(\"Error parsing widths file.\\n\\nIs it in JSON format?\");\n      }\n    }\n    this.setState({\n      game: \"\"\n    });\n  }\n\n  handleTextAreaChange(event) {\n\n    function calcLineWidth(game, lookupObj, line) {\n      let width = 0;\n      if (game === 'shiren2') {\n        width = 4; // starts with 4 pixels padding\n        for (const char of line) {\n          width += lookupObj[char] + 2; // 2 pixels between each character\n        }\n        if (width > 4) {\n          width -= 2; // last character doesn't have 2 pixels padding\n        } else {\n          width = 0; // set width to 0 if there are no characters\n        }\n      } else {\n        for (const char of line) {\n          width += lookupObj[char];\n        }\n      }\n      return width;\n    }\n    function checkWidthLimit(widths, game, lookupObj) {\n      if (game === 'shiren2') {\n        for (let i = 0; i < widths.length; i++) {\n          if (widths[i] > lookupObj[\"_window\"]) {\n            widths[i] = \"[Too long!]\";\n          }\n        }\n      }\n    }\n    // recalculate widths\n    let lines = event.target.value.split('\\n');\n    let widths = [];\n\n    for (const line of lines) {\n      widths.push( calcLineWidth(this.state.game, this.state.lookupObj, line) );\n    }\n    // Warn for lines that are too long\n    checkWidthLimit(widths, this.state.game, this.state.lookupObj);\n\n    this.setState({\n      textArea: event.target.value,\n      charCount: event.target.value.length,\n      widths: widths\n    });\n  }\n\n  render() {\n    const game = this.state.game;\n    const text = this.state.textArea;\n    const charCount = this.state.charCount;\n    const widths = this.state.widths.join('\\n');\n\n    return (\n      <div>\n        <h4>- Variable Width Font Calculator (v1.0) -</h4>\n        <span>Preset: </span>\n          <button onClick={() => this.handlePresetClick(\"shiren2\")}>Shiren 2</button>\n          <button onClick={() => this.handlePresetClick(\"shiren4\")}>Shiren 4</button>\n          <br/>\n        <span>Custom: </span>\n          <input type=\"file\" onChange={(e) => this.handleFileUpload(e)}></input>\n          <br/>\n          <br/>\n        <textarea cols=\"56\" rows=\"10\" onChange={(e) => this.handleTextAreaChange(e)}></textarea>\n        <br/>\n        <Preview text={text} game={game}/>\n        <p>Result (<span>{charCount}</span> chars):</p>\n        <pre className=\"widthResult\">{widths}</pre>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <VWFCalc />,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin"]}}